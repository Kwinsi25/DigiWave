{% extends "base.html" %}
{% block title %}Folder Details{% endblock %}

{% block content %}
<div class="content-wrapper">
  <div class="container-xxl flex-grow-1 container-p-y">

    <div class="row mb-3">
        <div class="col-12">
            <h3>{{ folder.name }}</h3>
            <p>Project: {% if folder.project %}{{ folder.project.project_name }}{% else %}No Project{% endif %}</p>
        </div>
    </div>

    <!-- Subfolders -->
    <div class="row mb-3">
       {% for subfolder in folder.subfolders.all %}
<div class="col-md-2 col-sm-4 col-6">
    <a href="{% url 'view_subfolder' subfolder.id %}">
        <div class="card folder-card text-center position-relative p-3">
            <div class="d-flex justify-content-center align-items-center mx-auto mb-2"
                 style="width:75px; height:75px; border-radius:50%; background: linear-gradient(135deg, #fde68a, #f59e0b20);">
                 <i class="bx bxs-folder" style="font-size:38px; color:#f59e0b;"></i>
            </div>
            <h6 class="mt-2 mb-1 text-truncate">{{ subfolder.name }}</h6>
        </div>
    </a>
</div>

        {% empty %}
        <div class="col-12 text-muted">No subfolders.</div>
        {% endfor %}
    </div>

    <!-- Files -->
<div class="row mb-3">
    {% for file in files %}
    <div class="col-md-2 col-sm-4 col-6">
        <a href="{{ file.file.url }}" target="_blank" class="text-decoration-none">
            <div class="card file-card text-center position-relative p-2">
                <!-- File Icon -->
                <i class="bx bx-file fs-1 text-secondary"></i>
                <p class="mb-0 fw-bold text-truncate">{{ file.name }}</p>
                <small class="text-muted d-block">{{ file.created_at|date:"M j, Y" }}</small>
            </div>
        </a>
    </div>
    {% empty %}
    <div class="col-12 text-muted">No files in this folder.</div>
    {% endfor %}
</div>

  </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
{% endblock %}
